<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roulette Game</title>
    <style>
        :where(.ui-wheel-of-fortune) {
            --_items: 37;
            all: unset;
            aspect-ratio: 1 / 1;
            background: #333;
            container-type: inline-size;
            direction: ltr;
            display: grid;
            place-content: center;
            position: relative;
            width: 400px;
            margin: 0 auto;
        }

        .wheel-of-fortune {
            clip-path: inset(0 0 0 0 round 50%);
        }

        .wheel-of-fortune li {
            align-content: center;
            display: grid;
            font-size: 3cqi;
            font-weight: bold;
            color: white;
            grid-area: 1 / -1;
            list-style: none;
            padding-left: 1ch;
            transform-origin: center right;
            width: 50cqi;
            height: calc((2 * pi * 50cqi) / var(--_items));
            clip-path: polygon(0% -2%, 100% 50%, 0% 102%);
        }

        .wheel-of-fortune li:nth-of-type(1) { --_idx: 1; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(2) { --_idx: 2; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(3) { --_idx: 3; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(4) { --_idx: 4; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(5) { --_idx: 5; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(6) { --_idx: 6; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(7) { --_idx: 7; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(8) { --_idx: 8; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(9) { --_idx: 9; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(10) { --_idx: 10; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(11) { --_idx: 11; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(12) { --_idx: 12; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(13) { --_idx: 13; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(14) { --_idx: 14; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(15) { --_idx: 15; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(16) { --_idx: 16; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(17) { --_idx: 17; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(18) { --_idx: 18; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(19) { --_idx: 19; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(20) { --_idx: 20; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(21) { --_idx: 21; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(22) { --_idx: 22; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(23) { --_idx: 23; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(24) { --_idx: 24; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(25) { --_idx: 25; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(26) { --_idx: 26; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(27) { --_idx: 27; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(28) { --_idx: 28; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(29) { --_idx: 29; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(30) { --_idx: 30; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(31) { --_idx: 31; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(32) { --_idx: 32; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(33) { --_idx: 33; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(34) { --_idx: 34; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(35) { --_idx: 35; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(36) { --_idx: 36; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }
        .wheel-of-fortune li:nth-of-type(37) { --_idx: 37; rotate: calc(360deg / var(--_items) * calc(var(--_idx) - 1)); }

        .red { background: red; }
        .black { background: black; color: white; }
        .green { background: green; color: white; }

        /* Pointer */
        .ui-wheel-of-fortune::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px transparent solid;
            border-right: 10px transparent solid;
            border-bottom: 20px black solid;
            z-index: 10;
        }

        /* Watermark */
        .watermark {
            position: absolute;
            bottom: 10px;
            right: 10px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 20px;
            font-family: Arial, sans-serif;
            pointer-events: none;
            z-index: 20;
        }

        .betting-table {
            max-width: 800px;
            margin: 20px auto;
            text-align: center;
        }

        .number-grid {
            display: grid;
            grid-template-columns: repeat(12, 40px);
            gap: 5px;
            margin: 20px auto;
            justify-content: center;
        }

        .bet-button {
            width: 40px;
            height: 40px;
            border: none;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .color-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .color-button {
            width: 100px;
            height: 50px;
            font-size: 18px;
            color: white;
            border: none;
            cursor: pointer;
        }

        #red-color { background: red; }
        #black-color { background: black; }

        #bet-amount {
            width: 100px;
            margin: 10px;
        }

        #current-bets {
            margin: 10px;
        }

        #result {
            font-size: 20px;
            margin: 10px;
        }

        button#spin {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="ui-wheel-of-fortune">
        <ul class="wheel-of-fortune">
            <li class="green">0</li>
            <li class="red">32</li>
            <li class="black">15</li>
            <li class="red">19</li>
            <li class="black">4</li>
            <li class="red">21</li>
            <li class="black">2</li>
            <li class="red">25</li>
            <li class="black">17</li>
            <li class="red">34</li>
            <li class="black">6</li>
            <li class="red">27</li>
            <li class="black">13</li>
            <li class="red">36</li>
            <li class="black">11</li>
            <li class="red">30</li>
            <li class="black">8</li>
            <li class="red">23</li>
            <li class="black">10</li>
            <li class="red">5</li>
            <li class="black">24</li>
            <li class="red">16</li>
            <li class="black">33</li>
            <li class="red">1</li>
            <li class="black">20</li>
            <li class="red">14</li>
            <li class="black">31</li>
            <li class="red">9</li>
            <li class="black">22</li>
            <li class="red">18</li>
            <li class="black">29</li>
            <li class="red">7</li>
            <li class="black">28</li>
            <li class="red">12</li>
            <li class="black">35</li>
            <li class="red">3</li>
            <li class="black">26</li>
        </ul>
        <div class="watermark">Jaskirat</div>
        <button id="spin">Start</button>
    </div>

    <div class="betting-table">
        <label>Bet Amount: <input type="number" id="bet-amount" min="1" value="10"></label>
        <div class="zero">
            <button class="bet-button green" data-type="number" data-value="0">0</button>
        </div>
        <div class="number-grid">
            <button class="bet-button red" data-type="number" data-value="1">1</button>
            <button class="bet-button black" data-type="number" data-value="2">2</button>
            <button class="bet-button red" data-type="number" data-value="3">3</button>
            <button class="bet-button black" data-type="number" data-value="4">4</button>
            <button class="bet-button red" data-type="number" data-value="5">5</button>
            <button class="bet-button black" data-type="number" data-value="6">6</button>
            <button class="bet-button red" data-type="number" data-value="7">7</button>
            <button class="bet-button black" data-type="number" data-value="8">8</button>
            <button class="bet-button red" data-type="number" data-value="9">9</button>
            <button class="bet-button black" data-type="number" data-value="10">10</button>
            <button class="bet-button black" data-type="number" data-value="11">11</button>
            <button class="bet-button red" data-type="number" data-value="12">12</button>
            <button class="bet-button black" data-type="number" data-value="13">13</button>
            <button class="bet-button red" data-type="number" data-value="14">14</button>
            <button class="bet-button black" data-type="number" data-value="15">15</button>
            <button class="bet-button red" data-type="number" data-value="16">16</button>
            <button class="bet-button black" data-type="number" data-value="17">17</button>
            <button class="bet-button red" data-type="number" data-value="18">18</button>
            <button class="bet-button red" data-type="number" data-value="19">19</button>
            <button class="bet-button black" data-type="number" data-value="20">20</button>
            <button class="bet-button red" data-type="number" data-value="21">21</button>
            <button class="bet-button black" data-type="number" data-value="22">22</button>
            <button class="bet-button red" data-type="number" data-value="23">23</button>
            <button class="bet-button black" data-type="number" data-value="24">24</button>
            <button class="bet-button red" data-type="number" data-value="25">25</button>
            <button class="bet-button black" data-type="number" data-value="26">26</button>
            <button class="bet-button red" data-type="number" data-value="27">27</button>
            <button class="bet-button black" data-type="number" data-value="28">28</button>
            <button class="bet-button black" data-type="number" data-value="29">29</button>
            <button class="bet-button red" data-type="number" data-value="30">30</button>
            <button class="bet-button black" data-type="number" data-value="31">31</button>
            <button class="bet-button red" data-type="number" data-value="32">32</button>
            <button class="bet-button black" data-type="number" data-value="33">33</button>
            <button class="bet-button red" data-type="number" data-value="34">34</button>
            <button class="bet-button black" data-type="number" data-value="35">35</button>
            <button class="bet-button red" data-type="number" data-value="36">36</button>
        </div>
        <div class="color-buttons">
            <button id="red-color" class="color-button bet-button" data-type="color" data-value="red">Red</button>
            <button id="black-color" class="color-button bet-button" data-type="color" data-value="black">Black</button>
        </div>
        <div id="balance">Balance: 1000</div>
        <div id="current-bets"></div>
        <div id="result"></div>
    </div>

    <script>
        const wheelNumbers = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];

        const redNumbers = [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36];

        function getColor(num) {
            if (num === 0) return 'green';
            return redNumbers.includes(num) ? 'red' : 'black';
        }

        let balance = 1000;
        let bets = { numbers: {}, colors: {} };
        let animation;
        let previousEndDegree = 0;

        function updateBalance() {
            document.getElementById('balance').textContent = `Balance: ${balance}`;
        }

        function updateCurrentBets() {
            let betList = '';
            for (let num in bets.numbers) {
                betList += `Number ${num}: ${bets.numbers[num]}<br>`;
            }
            for (let col in bets.colors) {
                betList += `Color ${col}: ${bets.colors[col]}<br>`;
            }
            document.getElementById('current-bets').innerHTML = betList;
        }

        document.querySelectorAll('.bet-button').forEach(btn => {
            btn.addEventListener('click', () => {
                const amount = parseInt(document.getElementById('bet-amount').value);
                if (isNaN(amount) || amount <= 0 || amount > balance) {
                    alert('Invalid bet amount');
                    return;
                }
                const type = btn.dataset.type;
                const value = type === 'number' ? parseInt(btn.dataset.value) : btn.dataset.value;
                if (!bets[`${type}s`][value]) {
                    bets[`${type}s`][value] = 0;
                }
                bets[`${type}s`][value] += amount;
                balance -= amount;
                updateBalance();
                updateCurrentBets();
            });
        });

        const spinButton = document.getElementById('spin');
        const wheel = document.querySelector('.wheel-of-fortune');

        spinButton.addEventListener('click', () => {
            if (Object.keys(bets.numbers).length === 0 && Object.keys(bets.colors).length === 0) {
                alert('Place a bet first!');
                return;
            }

            if (animation) {
                animation.cancel();
            }

            const randomAdditionalDegrees = Math.random() * 360 + 1440; // At least 4 full spins
            const newEndDegree = previousEndDegree + randomAdditionalDegrees;

            animation = wheel.animate([
                { transform: `rotate(${previousEndDegree}deg)` },
                { transform: `rotate(${newEndDegree}deg)` }
            ], {
                duration: 5000,
                direction: 'normal',
                easing: 'cubic-bezier(0.25, 0.1, 0.25, 1)',
                fill: 'forwards',
                iterations: 1
            });

            previousEndDegree = newEndDegree % 360; // Keep only the effective rotation

            animation.finished.then(() => {
                const finalAngle = newEndDegree % 360;
                const arc = 360 / 37;
                const adjustedAngle = (360 - finalAngle) % 360; // Adjust for rotation direction
                const segmentIndex = Math.floor(adjustedAngle / arc);
                const winningNumber = wheelNumbers[segmentIndex];
                const winningColor = getColor(winningNumber);

                document.getElementById('result').textContent = `Result: ${winningNumber} (${winningColor})`;

                let payout = 0;

                // Number bets
                for (let num in bets.numbers) {
                    if (parseInt(num) === winningNumber) {
                        payout += bets.numbers[num] * 36;
                    }
                }

                // Color bets (only if not 0)
                if (winningNumber !== 0) {
                    for (let col in bets.colors) {
                        if (col === winningColor) {
                            payout += bets.colors[col] * 2;
                        }
                    }
                }

                balance += payout;
                updateBalance();

                // Reset bets
                bets = { numbers: {}, colors: {} };
                updateCurrentBets();
            });
        });
    </script>
</body>
          </html>
