<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jaskirat's Roulette Table</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: radial-gradient(circle at center, #1a1a1a, #000);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    h1 {
      margin-top: 20px;
    }
    #wheel {
      margin: 20px auto;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      border: 8px solid #333;
      background: conic-gradient(
        red 0deg 9.73deg, black 9.73deg 19.45deg,
        red 19.45deg 29.18deg, black 29.18deg 38.9deg,
        red 38.9deg 48.63deg, black 48.63deg 58.36deg,
        red 58.36deg 68.08deg, black 68.08deg 77.81deg,
        red 77.81deg 87.54deg, black 87.54deg 97.26deg,
        red 97.26deg 106.99deg, black 106.99deg 116.72deg,
        red 116.72deg 126.44deg, black 126.44deg 136.17deg,
        red 136.17deg 145.9deg, black 145.9deg 155.62deg,
        red 155.62deg 165.35deg, black 165.35deg 175.08deg,
        green 175.08deg 184.8deg,
        red 184.8deg 194.53deg, black 194.53deg 204.26deg,
        red 204.26deg 213.98deg, black 213.98deg 223.71deg,
        red 223.71deg 233.44deg, black 233.44deg 243.16deg,
        red 243.16deg 252.89deg, black 252.89deg 262.62deg,
        red 262.62deg 272.34deg, black 272.34deg 282.07deg,
        red 282.07deg 291.8deg, black 291.8deg 301.52deg,
        red 301.52deg 311.25deg, black 311.25deg 320.98deg,
        red 320.98deg 330.7deg, black 330.7deg 340.43deg,
        red 340.43deg 350.16deg, black 350.16deg 360deg
      );
      position: relative;
      transition: transform 5s ease-out;
    }
    #pointer {
      width: 0; height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 30px solid yellow;
      margin: 0 auto;
      position: relative;
      top: -10px;
    }
    #controls {
      margin: 20px;
    }
    .bet-table {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      width: 320px;
      margin: 0 auto;
    }
    .cell {
      width: 40px; height: 40px;
      border: 1px solid #444;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer;
      position: relative;
    }
    .cell.red { background: #b00; }
    .cell.black { background: #111; }
    .cell.green { background: green; }
    .chip {
      width: 20px; height: 20px;
      background: gold;
      border-radius: 50%;
      position: absolute;
    }
    #message, #welcome {
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.9);
      padding: 20px;
      border: 2px solid gold;
      border-radius: 10px;
      display: none;
      z-index: 1000;
    }
    button {
      margin: 10px; padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background: gold;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ° Jaskirat's Roulette Table ðŸŽ°</h1>
  <div id="pointer"></div>
  <div id="wheel"></div>

  <div id="controls">
    <p>Balance: $<span id="balance">1000</span></p>
    <button onclick="spin()">Spin</button>
  </div>

  <h2>Place your bets:</h2>
  <div class="bet-table" id="betTable"></div>
  <div id="colorBets">
    <button onclick="placeBet('red')">Bet Red</button>
    <button onclick="placeBet('black')">Bet Black</button>
  </div>

  <div id="message"></div>
  <div id="welcome">
    <h2>Welcome to Jaskirat's Roulette Table!</h2>
    <p>ðŸ’¡ How it works:</p>
    <ul style="text-align:left;">
      <li>Click a number to place a bet (35:1 payout)</li>
      <li>Or bet on Red/Black (1:1 payout)</li>
      <li>Click Spin to spin the wheel!</li>
    </ul>
    <button onclick="closeWelcome()">Let's Play!</button>
  </div>

  <audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
  </audio>
  <button onclick="toggleMusic()">ðŸŽµ Toggle Music</button>

  <script>
    const wheel = document.getElementById("wheel");
    const balanceEl = document.getElementById("balance");
    const messageEl = document.getElementById("message");
    const betTable = document.getElementById("betTable");
    const numbers = Array.from({length:37}, (_,i)=>i);
    const colors = {0:"green"};
    const redNums=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
    numbers.forEach(n=>colors[n]= redNums.includes(n)?"red":"black");

    let balance=1000;
    let bets=[];
    let currentRotation=0;

    function showMessage(msg){
      messageEl.innerHTML=msg+"<br><button onclick='closeMessage()'>OK</button>";
      messageEl.style.display="block";
    }
    function closeMessage(){messageEl.style.display="none";}

    function closeWelcome(){document.getElementById("welcome").style.display="none";}

    function toggleMusic(){
      const music=document.getElementById("bgMusic");
      if(music.paused) music.play(); else music.pause();
    }

    numbers.forEach(n=>{
      const cell=document.createElement("div");
      cell.classList.add("cell",colors[n]);
      cell.innerText=n;
      cell.onclick=()=>placeBet(n);
      betTable.appendChild(cell);
    });

    function placeBet(option){
      if(balance<100) {showMessage("Not enough balance!");return;}
      balance-=100;
      balanceEl.innerText=balance;
      bets.push({option,amount:100});
      if(typeof option==="number"){
        const target=document.querySelectorAll(".cell")[option];
        const chip=document.createElement("div");
        chip.className="chip";
        target.appendChild(chip);
      }
    }

    function spin(){
      if(bets.length===0){showMessage("Place a bet first!");return;}
      const spinDeg=360*5+Math.floor(Math.random()*360);
      currentRotation+=spinDeg;
      wheel.style.transform=`rotate(${currentRotation}deg)`;
      setTimeout(()=>{
        const winningNum=Math.floor(Math.random()*37);
        const winColor=colors[winningNum];
        let winAmount=0;
        bets.forEach(b=>{
          if(b.option===winningNum) winAmount+=b.amount*36;
          if(b.option==="red"&&winColor==="red") winAmount+=b.amount*2;
          if(b.option==="black"&&winColor==="black") winAmount+=b.amount*2;
        });
        balance+=winAmount;
        balanceEl.innerText=balance;
        bets=[];
        document.querySelectorAll(".chip").forEach(c=>c.remove());
        showMessage(`Result: ${winningNum} (${winColor})<br>You won $${winAmount}`);
      },5000);
    }

    window.onload=()=>{document.getElementById("welcome").style.display="block";}
  </script>
</body>
</html>
