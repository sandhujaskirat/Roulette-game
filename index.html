<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Roulette Casino</title>
  <style>
    body { font-family: Arial, sans-serif; background: #024731; color: white; margin:0; }
    h1 { text-align:center; padding:10px; }
    .container { display:flex; flex-wrap:wrap; justify-content:center; gap:20px; padding:20px; }
    .table { display:grid; grid-template-columns: repeat(3,60px); grid-auto-rows:60px; }
    .cell { border:1px solid white; display:flex; justify-content:center; align-items:center; position:relative; cursor:pointer; }
    .red { background:#c00; }
    .black { background:#000; }
    .green { background:green; grid-column:span 3; }
    .chip { position:absolute; border-radius:50%; background:gold; color:black; font-size:12px; width:28px; height:28px; display:flex; align-items:center; justify-content:center; }
    .controls { display:flex; flex-direction:column; gap:10px; }
    .btn { background:#f5a623; border:none; padding:8px 12px; border-radius:5px; cursor:pointer; }
    .wheel { width:300px; height:300px; border-radius:50%; border:10px solid #222; position:relative; }
    .pointer { width:0; height:0; border-left:20px solid transparent; border-right:20px solid transparent; border-bottom:40px solid yellow; position:absolute; top:-40px; left:130px; }
    #result { text-align:center; font-size:20px; margin-top:10px; }
  </style>
</head>
<body>
<h1>ðŸŽ° Roulette Casino ðŸŽ°</h1>

<div class="container">
  <!-- Betting Table -->
  <div class="table" id="betTable"></div>

  <!-- Wheel and Controls -->
  <div class="controls">
    <div class="pointer"></div>
    <div class="wheel" id="wheel"></div>
    <div>
      Balance: $<span id="balance">1000</span>
    </div>
    <div>
      <button class="btn" onclick="setChip(1)">$1</button>
      <button class="btn" onclick="setChip(5)">$5</button>
      <button class="btn" onclick="setChip(25)">$25</button>
      <button class="btn" onclick="setChip(50)">$50</button>
      <button class="btn" onclick="setChip(100)">$100</button>
    </div>
    <div>
      <input type="number" id="customChip" placeholder="Custom">
      <button class="btn" onclick="setCustomChip()">Set</button>
    </div>
    <button class="btn" onclick="spin()">Spin ðŸŽ¡</button>
    <button class="btn" onclick="clearBets()">Clear Bets</button>
    <div id="result"></div>
  </div>
</div>

<script>
const table = document.getElementById("betTable");
const balanceEl = document.getElementById("balance");
const resultEl = document.getElementById("result");
const wheel = document.getElementById("wheel");

let balance = 1000;
let currentChip = 25;
let bets = [];

// European roulette sequence
const numbers = [
  0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,
  23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26
];
const reds = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

function makeTable(){
  // 0 cell
  const zero = document.createElement("div");
  zero.className = "cell green";
  zero.innerText = "0";
  zero.dataset.num = 0;
  zero.onclick = () => placeBet(zero,0);
  table.appendChild(zero);

  // 3 rows of numbers
  for(let row=0; row<12; row++){
    for(let col=0; col<3; col++){
      let num = 3*row + (3-col);
      const cell = document.createElement("div");
      cell.className = "cell " + (reds.includes(num)?"red":"black");
      cell.innerText = num;
      cell.dataset.num = num;
      cell.onclick = () => placeBet(cell,num);
      table.appendChild(cell);
    }
  }
}
makeTable();

function setChip(value){ currentChip = value; }
function setCustomChip(){
  let val = parseInt(document.getElementById("customChip").value);
  if(val>0) currentChip = val;
}

function placeBet(cell,num){
  if(balance < currentChip) return alert("Not enough balance!");
  balance -= currentChip;
  balanceEl.innerText = balance;
  bets.push({num,value:currentChip,cell});
  let chip = document.createElement("div");
  chip.className="chip";
  chip.innerText=currentChip;
  cell.appendChild(chip);
}

function clearBets(){
  bets.forEach(b=>{ if(b.cell) b.cell.innerHTML = b.num; });
  bets = [];
}

function spin(){
  if(bets.length===0) return alert("Place a bet first!");
  let winIndex = Math.floor(Math.random()*37);
  let winNum = numbers[winIndex];
  let angle = 360*(5+Math.random()*5) + (winIndex*(360/37));
  wheel.style.transition="transform 4s ease-out";
  wheel.style.transform=`rotate(${angle}deg)`;

  setTimeout(()=>{
    settleBets(winNum);
    clearBets();
  },4000);
}

function settleBets(winNum){
  let winnings = 0;
  bets.forEach(b=>{
    if(b.num==winNum){ winnings += b.value*36; }
  });
  balance += winnings;
  balanceEl.innerText = balance;
  resultEl.innerText = "Winning number: " + winNum + " ðŸŽ‰ You won $" + winnings;
}
</script>
</body>
</html>
